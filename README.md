# Latios

Latios(experimental).

## 数据库连接池（Pool)

### 创建连接

#### 创建连接的时机和连接的数量

创建连接的时机和优缺点：

1. 在创建连接池时创建。
2. 在获取连接时创建（若连接池有获取连接的接口，若池中有可用连接则直接从池中获取）。
3. 在执行SQL时创建。

建立数据库连接和大多数网络应用一样这个过程阻塞进程。

## 数据加载

### socket缓冲区

问题：socket接收缓冲区满。

发生原因：因为按表加载，每个表的大小不定，但socket接收缓冲区大小固定，随着表的数据增加出现此问题是必然。

解决方案：

1. 限制表中每个条目的大小，每个条目的大小应该小于socket的接收缓冲区（表大小=条目大小*条目数）。
2. 压缩存储表中的数据，成功接收后解压缩。

## 数据操作

## 数据持久化

数据持久化层是对“INSERT“，”UPDATE“，“DELETE”三种操作的抽象。除了保证数据正确落地，还减少持久化的时间消耗。

## 分布式
