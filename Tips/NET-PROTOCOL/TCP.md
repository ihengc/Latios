## TCP的成块数据流

TCP中的ACK是累积的，一个ACK表示接收方已经正确收到了一直到确认序号减1的所有字节。

**快的发送方和慢的接收方**

1. 窗口满。
2. 窗口大小更新。

窗口满：发送方填充接收方窗口。接收方TCP接收缓冲区满（应用程序还未对这些数据进行读取），接收方通告其窗口大小并对之前的报文进行确认。

窗口大小更新：接收方重复确认，并说明当前窗口大小。

### 滑动窗口协议

TCP使用滑动窗口协议实现流量控制。

通常数据发送方在发送下一个数据块之前需要等待接收方对已发送数据的确认。

而滑动窗口协议允许发送方在停止并等待确认前可以连续发送多个分组。由于发送方不必每发一个分组就停下来等待确认，因此改协议可以加速数据的传输。

### 窗口大小

接收方提供的窗口大小通常可以由接收进程控制，这将影响TCP的性能。

套接字API允许进程设置发送和接收缓存的大小。接收缓存的大小是该连接上能够通告的最大窗口大小。

（单向数据流应用与双向数据流应用）。

### PUSH标志

发送方使用PUSH标志通知接收方将所收到的数据全部提交给接收进程。

这里的数据包括与PUSH一起传送的数据以及接收方TCP已经为接收进程收到的其他数据。

### 慢启动

拥塞窗口。

#### 拥塞

#### 带宽时延乘积

## TCP的超时与重传

TCP提供可靠的运输层。它使用的方法之一就是确认从另一端收到的数据。但数据和确认都有可能丢失。

如何解决上述问题，TCP通过在发送时设置一个定时器来解决这种问题。

关解点在于如何决定超时间隔和如何确定重传的频率。
